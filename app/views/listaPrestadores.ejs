<!DOCTYPE html>
<html lang="pt-br">
<%- include('./include/head', {title: 'ToolsHall - Lista Prestadores'}) %>

<body>
  <%- include('./include/header') %>
  <%- include('./include/menuNav') %>

  <main class="fundo-listaPrestadores col-12 m-0 p-0">
   
    <div class="content-ls">

      <div class="form-row row-lp d-flex justify-content-end m-0 p-0">
        <div class="form-group linha-pesqPrestadores col-md-3">
          <label id="lupa-pesquisa" for="pesquisa-listaPrestadores"><img src="/img/luparoxa.png" alt=""></label>
          <input type="text" name="pesquisalistaPrestadores" class="form-control" id="pesquisa-listaPrestadores"
            placeholder="Procurar...">
        </div>
      </div>

      <div class="row row-lp d-flex justify-content-center align-items-center m-0 p-0">

        <div class="filtro-prestadores">

          <div class="row p-2 filtro-parte1">
            <h4 class="titulo-filtroPrestadores">Filtros</h4>
            <img src="/img/filtro.png" alt="filtro">
          </div>
          <hr class="linha-separar">

          <div class="row d-flex flex-column p-2 filtro-parte2">
            <h5 class="subtitulo-filtroPrestadores">Serviços</h5>
            <ul>
              <li><input type="checkbox" value="medicina"><label for="">Medicina</label></li>
              <li><input type="checkbox" value="seguranca"><label for="">Segurança</label></li>
              <li><input type="checkbox" value="manutencao"><label for="">Manutenção</label></li>
              <li><input type="checkbox" value="estetica"><label for="">Estética</label></li>
              <li><input type="checkbox" value="jardinagem"><label for="">Jardinagem</label></li>
              <li><input type="checkbox" value="educacao"><label for="">Educação</label></li>
              <li><input type="checkbox" value="culinaria"><label for="">Culinária</label></li>
              <li><input type="checkbox" value="escritorio"><label for="">Escritório</label></li>
            </ul>
          </div>
          <hr class="linha-separar">

          <div id="filtroAvaliacao" class="row d-flex flex-column p-2 filtro-parte4">
            <h5 class="subtitulo-filtroPrestadores">Avaliação</h5>
            <ul>
              <li>
                <input type="checkbox" value="5">
                <label for="">&#11088;&#11088;&#11088;&#11088;&#11088;</label>
              </li>
              <li>
                <input type="checkbox" value="4">
                <label for="">&#11088;&#11088;&#11088;&#11088;</label>
              </li>
              <li>
                <input type="checkbox" value="3">
                <label for="">&#11088;&#11088;&#11088;</label>
              </li>
              <li>
                <input type="checkbox" value="2">
                <label for="">&#11088;&#11088;</label>
              </li>
              <li>
                <input type="checkbox" value="1">
                <label for="">&#11088;</label>
              </li>
            </ul>
          </div>
          <hr class="linha-separar">

        </div>


        <div class="lista-cardsPrestadores">

          <div class="fp-mobile">
            <a href="#" class="fp-filterOrder">
              <img src="/img/filter-mobile.png">
              <p>Filtrar</p>
            </a>
          </div>

          <div class="row d-flex m-0 p-0">
            <h4 class="titulo-listaPrestadores">Resultado pesquisa:</h4>
            <div class="resultadoPesquisa alert alert-success alert-dismissible fade show" role="alert">
              <strong id="resultadoPesquisa"></strong>
              <button type="button" id="limpa-pesquisa" class="close close-pesquisa" data-dismiss="alert" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
          </div>

          <hr class="linha-separar">

          <div class="row d-flex justify-content-around m-0 p-0">
            <% prestadores.forEach(prestador => { %>
            <div class="card card-listaPrestadores col-12 col-sm-12 col-md-6 col-lg-4 my-3 p-0">
              <div class="card-parteSuperior">
                <img class="boneco-prestador" src="<%= prestador.avatar %>">
                <% prestador.Avaliacoes.forEach(avaliacao => { %>
                  <% if (avaliacao.nota === 1) { %>
                    <img class="img-notaPrestador" src="/img/estrela1.png">
                  <% } %>
                  <% if (avaliacao.nota === 2) { %>
                    <img class="img-notaPrestador" src="/img/estrela2.png">
                  <% } %>
                  <% if (avaliacao.nota === 3) { %>
                    <img class="img-notaPrestador" src="/img/estrela3.png">
                  <% } %>
                  <% if (avaliacao.nota === 4) { %>
                    <img class="img-notaPrestador" src="/img/estrela4.png">
                  <% } %>
                  <% if (avaliacao.nota === 5) { %>
                    <img class="img-notaPrestador" src="/img/estrela5.png">
                  <% } %>
                <% }) %>
              </div>
              <div class="card-body card-parteInferior p-0 m-0">
                <p class="nota-cardPrestador">NOTA</p>
                <p class="nome-cardPrestador"> <%= prestador.nome %> </p>
                <p class="sobre-cardPrestador"> <%= prestador.Habilidades[0].titulo %> </p>
              </div>
            </div>
            <% }) %>

          </div>

          <div class="row row-paginacaoPrestadores">
            <ul class="pagination justify-content-center">
              <% for (let numeroPage = 1; numeroPage <= totalPages; numeroPage++) { %>
                <li class="page-item"><a class="page-link" href="?page= <%= numeroPage %>"> <%= numeroPage %> </a></li>
              <% } %>
            </ul>
          </div>

        </div>

      </div>

    </div>
  </main>

  <%- include('include/footer') %>
  <%- include('include/script') %>


</body>

</html>